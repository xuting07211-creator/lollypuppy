<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ç”Ÿæ—¥å¿«ä¹ï¼ŒYå…ˆç”Ÿ ğŸ‚</title>
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
<style>
  html,body{
    margin:0; padding:0; height:100%;
    font-family:'Quicksand','Microsoft Yahei',sans-serif;
    overflow:hidden; text-align:center;
    color:#222; 
    background:#f8f3e6; /* å…¨å±€å¤‡ç”¨èƒŒæ™¯è‰² */
  }
  body::before{
    content:"";
  	position:fixed; inset:0;
  	background-image: url('images/birthday-bg.jpg');
  	background-repeat: repeat-x;          /* âœ… æ¨ªå‘é‡å¤ */
  	background-size: auto 100%;           /* âœ… çºµå‘æ’‘æ»¡é¡µé¢ï¼Œé«˜åº¦é€‚é…å±å¹• */
  	background-position: center bottom;   /* âœ… å¯æ”¹ä¸º top center / bottom center */
  	filter: brightness(1.05) saturate(1.1);
  	z-index:0;
    /* æœ¬åœ°å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶æ˜¾ç¤ºå¤‡ç”¨è‰² */
    background-color: #f8f3e6;
  }
  body::after{
    content:""; position:fixed; inset:0; background:rgba(255,255,255,0.25); z-index:1;
  }
  #textBox{
    position:absolute; top:50%; left:50%;
    transform:translate(-50%,-50%);
    background:rgba(255,255,255,0.6);
    padding:28px 38px; border-radius:22px;
    max-width:90%; box-shadow:0 6px 18px rgba(0,0,0,0.1);
    transition:opacity .5s ease;
    z-index:2
  }
  #textBox p{margin:0; font-size:clamp(20px,4vw,28px); line-height:1.6;}
  #textBox span{display:block; margin-top:10px; font-size:clamp(18px,3vw,24px);}
  .hidden{opacity:0;}
  .visible{opacity:1;}
  .flash{
    animation: flash 1.5s ease-in-out infinite alternate;
    font-size:clamp(26px,5vw,38px);
    font-weight:600;
    letter-spacing:2px;
    color:#ff4b4b;
  }
  @keyframes flash{
    from{opacity:0.4; text-shadow:0 0 6px #ffcccc;}
    to{opacity:1; text-shadow:0 0 16px #ff4b4b;}
  }
  .hint{
    position:fixed; bottom:20px; width:100%; text-align:center;
    font-size:14px; color:#333; opacity:0.75; letter-spacing:1px;
  }
</style>
</head>
<body>
<div id="textBox" class="hidden">
  <p id="line"></p>
</div>
<div class="hint">ç‚¹å‡»å±å¹•ç»§ç»­ ğŸˆ</div>

<!-- æœ¬åœ°éŸ³ä¹æ–‡ä»¶ -->
<audio id="bgm" preload="auto" loop>
  <source src="Starlight Memories (æ˜Ÿå…‰è®°å¿†) - Dennis Kuo.mp3" type="audio/mpeg">
</audio>

<script>
const lines=[
  "ğŸˆ å˜¿ï½ä»Šå¤©æ˜¯ä¸ªå€¼å¾—è¢«è›‹ç³•å’Œç¬‘å£°åŒ…å›´çš„æ—¥å­ï¼",
  "ğŸ° æ„¿ä½ æ¯å¤©éƒ½ç¡å¾—é¦™ã€åƒå¾—å¥½ã€ç¬‘å¾—ç¿çƒ‚ã€‚",
  "ğŸŒŸ ç”Ÿæ—¥å¿«ä¹ï¼ŒYå…ˆç”Ÿï½<br><span>ä¿æŒå¼€å¿ƒã€å¹³å®‰å¥åº·ï¼Œä¸€åˆ‡éƒ½åˆšåˆšå¥½ï¼</span>",
  "<span class='flash'>âœ¨ Happy Birthday! âœ¨</span>"
];
let idx=0;
const box=document.getElementById('textBox');
const line=document.getElementById('line');
const bgm=document.getElementById('bgm');
const hint=document.querySelector('.hint');

// æ£€æŸ¥æœ¬åœ°èƒŒæ™¯å›¾æ˜¯å¦åŠ è½½æˆåŠŸ
function checkLocalImage() {
  const img = new Image();
  img.src = 'images/birthday-bg.jpg'; // æ£€æµ‹æœ¬åœ°å›¾ç‰‡
  img.onerror = function() {
    // æœ¬åœ°å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶ï¼Œåœ¨æ§åˆ¶å°æç¤ºï¼ˆä¸å½±å“ç”¨æˆ·ï¼Œä»…å¼€å‘è€…å¯è§ï¼‰
    console.log('æœ¬åœ°èƒŒæ™¯å›¾åŠ è½½å¤±è´¥ï¼Œå·²æ˜¾ç¤ºå¤‡ç”¨èƒŒæ™¯è‰²');
  };
}

function showNext(){
  if(idx === 0){
    bgm.play().catch(()=>{
      hint.textContent = "è¯·ç‚¹å‡»æ’­æ”¾éŸ³ä¹ ğŸµ";
    });
    hint.style.opacity = 0.4;
  }

  if(idx < lines.length){
    line.innerHTML = lines[idx];
    box.classList.remove('hidden');
    box.classList.add('visible');

    // âœ… å½“æ˜¾ç¤ºæœ€åä¸€é¡µæ—¶ï¼Œéšè—â€œç‚¹å‡»å±å¹•ç»§ç»­ ğŸˆâ€
    if(idx === lines.length - 1){
      hint.style.display = 'none';
    }

    idx++;
  }
}


document.addEventListener('click',showNext);
// é¡µé¢åŠ è½½æ—¶æ£€æŸ¥æœ¬åœ°å›¾ç‰‡
checkLocalImage();
</script>
</body>
</html>
/* ======= ğŸ“± æ‰‹æœºç«¯ä¼˜åŒ– ======= */
@media (max-width: 768px) {

  html, body {
    overflow: hidden;
    height: 100%;
  }

  body::before {
    background-size: auto 100%;     /* âœ… é«˜åº¦é€‚åº”å±å¹• */
    background-repeat: repeat-x;    /* âœ… æ¨ªå‘é‡å¤ */
    background-position: center bottom;
    filter: brightness(0.9) saturate(1.1); /* ç¨å¾®é™ä½äº®åº¦ */
  }

  #textBox {
    padding: 20px 24px;             /* âœ… ç¼©å°è¾¹è· */
    width: 85%;                     /* âœ… æ§åˆ¶å®½åº¦ */
    background: rgba(0,0,0,0.55);   /* âœ… æ‰‹æœºä¸Šå†æ·±ä¸€ç‚¹ */
  }

  #textBox p {
    font-size: clamp(18px, 5vw, 22px);
    line-height: 1.5;
  }

  #textBox span {
    font-size: clamp(16px, 4vw, 20px);
  }

  .hint {
    font-size: 12px;
    bottom: 10px;
    opacity: 0.6;
  }
}
